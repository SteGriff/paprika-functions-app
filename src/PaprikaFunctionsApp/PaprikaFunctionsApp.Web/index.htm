<!DOCTYPE HTML>
<html>
<head>
<title></title>
<meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
</style>
</head>
<body>
<main>
	<h1>File upload test</h1>
    <p>AJAX</p>
    <input type="file" class="js-file">
    <input type="text" class="js-username" value="adam" />
    <input type="password" class="js-password" value="adampassword" />
    <button onclick="submit()">Send</button>
</main>
<script>
    function submit()
    {
        var data = new FormData();
        $.each($('.js-file')[0].files, function (i, file) {
            data.append('file-' + i, file);
        });

        var headers = {
            'username': $('.js-username').val(),
            'password': $('.js-password').val()
        };

        $.ajax({
            url: 'http://localhost:7071/api/Grammar/Edit',
            beforeSend: function (request) {
                request.setRequestHeader("username", headers.username);
                request.setRequestHeader("password", headers.password);
            },
            data: data,
            cache: false,
            contentType: false,
            processData: false,
            method: 'POST',
            complete: function (data) {
                console.log(data);
                var message = data.status + ' ' + data.statusText + ': ' + data.responseText;
                alert(message);
            }
        });
    }
</script>
<script src="jquery-2.2.4.min.js"></script>
</body>
</html>